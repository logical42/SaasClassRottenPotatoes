/**
* @preserve Copyright 2012 Twitter, Inc.
* @license http://www.apache.org/licenses/LICENSE-2.0.txt
*/
var Hogan={};(function(a){function b(a){return a=String(a===null||a===undefined?"":a),h.test(a)?a.replace(c,"&amp;").replace(d,"&lt;").replace(e,"&gt;").replace(f,"&#39;").replace(g,"&quot;"):a}a.Template=function(b,c,d){b&&(this.r=b),this.c=d,this.text=c||""},a.Template.prototype={r:function(a,b,c){return""},v:b,render:function(a,b,c){return this.ri([a],b||{},c)},ri:function(a,b,c){return this.r(a,b,c)},rp:function(a,b,c,d){var e=c[a];return e?(this.c&&typeof e=="string"&&(e=this.c.compile(e)),e.ri(b,c,d)):""},rs:function(a,b,c){var d="",e=a[a.length-1];if(!i(e))return d=c(a,b);for(var f=0;f<e.length;f++)a.push(e[f]),d+=c(a,b),a.pop();return d},s:function(a,b,c,d,e,f,g){var h;return i(a)&&a.length===0?!1:(typeof a=="function"&&(a=this.ls(a,b,c,d,e,f,g)),h=a===""||!!a,!d&&h&&b&&b.push(typeof a=="object"?a:b[b.length-1]),h)},d:function(a,b,c,d){var e=a.split("."),f=this.f(e[0],b,c,d),g=null;if(a==="."&&i(b[b.length-2]))return b[b.length-1];for(var h=1;h<e.length;h++)f&&typeof f=="object"&&e[h]in f?(g=f,f=f[e[h]]):f="";return d&&!f?!1:(!d&&typeof f=="function"&&(b.push(g),f=this.lv(f,b,c),b.pop()),f)},f:function(a,b,c,d){var e=!1,f=null,g=!1;for(var h=b.length-1;h>=0;h--){f=b[h];if(f&&typeof f=="object"&&a in f){e=f[a],g=!0;break}}return g?(!d&&typeof e=="function"&&(e=this.lv(e,b,c)),e):d?!1:""},ho:function(a,b,c,d,e){var f=this.c,g=a.call(b,d,function(a){return f.compile(a,{delimiters:e}).render(b,c)}),h=f.compile(g.toString(),{delimiters:e}).render(b,c);return this.b=h,!1},b:"",ls:function(a,b,c,d,e,f,g){var h=b[b.length-1],i=null;if(!d&&this.c&&a.length>0)return this.ho(a,h,c,this.text.substring(e,f),g);i=a.call(h);if(typeof i=="function"){if(d)return!0;if(this.c)return this.ho(i,h,c,this.text.substring(e,f),g)}return i},lv:function(a,b,c){var d=b[b.length-1],e=a.call(d);return typeof e=="function"&&(e=e.call(d)),e=e.toString(),this.c&&~e.indexOf("{{")?this.c.compile(e).render(d,c):e}};var c=/&/g,d=/</g,e=/>/g,f=/\'/g,g=/\"/g,h=/[&<>\"\']/,i=Array.isArray||function(a){return Object.prototype.toString.call(a)==="[object Array]"}})(typeof exports!="undefined"?exports:Hogan),function(a){function b(a){a.n.substr(a.n.length-1)==="}"&&(a.n=a.n.substring(0,a.n.length-1))}function c(a){return a.trim?a.trim():a.replace(/^\s*|\s*$/g,"")}function d(a,b,c){if(b.charAt(c)!=a.charAt(0))return!1;for(var d=1,e=a.length;d<e;d++)if(b.charAt(c+d)!=a.charAt(d))return!1;return!0}function e(a,b,c,d){var h=[],i=null,j=null;while(a.length>0){j=a.shift();if(j.tag=="#"||j.tag=="^"||f(j,d))c.push(j),j.nodes=e(a,j.tag,c,d),h.push(j);else{if(j.tag=="/"){if(c.length===0)throw new Error("Closing tag without opener: /"+j.n);i=c.pop();if(j.n!=i.n&&!g(j.n,i.n,d))throw new Error("Nesting error: "+i.n+" vs. "+j.n);return i.end=j.i,h}h.push(j)}}if(c.length>0)throw new Error("missing closing tag: "+c.pop().n);return h}function f(a,b){for(var c=0,d=b.length;c<d;c++)if(b[c].o==a.n)return a.tag="#",!0}function g(a,b,c){for(var d=0,e=c.length;d<e;d++)if(c[d].c==a&&c[d].o==b)return!0}function h(a){return'i = i || "";var b = i + "";var _ = this;'+k(a)+"return b;"}function i(a){return a.replace(v,"\\\\").replace(s,'\\"').replace(t,"\\n").replace(u,"\\r")}function j(a){return~a.indexOf(".")?"d":"f"}function k(a){var b="";for(var c=0,d=a.length;c<d;c++){var e=a[c].tag;e=="#"?b+=l(a[c].nodes,a[c].n,j(a[c].n),a[c].i,a[c].end,a[c].otag+" "+a[c].ctag):e=="^"?b+=m(a[c].nodes,a[c].n,j(a[c].n)):e=="<"||e==">"?b+=n(a[c]):e=="{"||e=="&"?b+=o(a[c].n,j(a[c].n)):e=="\n"?b+=q('"\\n"'+(a.length-1==c?"":" + i")):e=="_v"?b+=p(a[c].n,j(a[c].n)):e===undefined&&(b+=q('"'+i(a[c])+'"'))}return b}function l(a,b,c,d,e,f){return"if(_.s(_."+c+'("'+i(b)+'",c,p,1),'+"c,p,0,"+d+","+e+', "'+f+'")){'+"b += _.rs(c,p,"+'function(c,p){ var b = "";'+k(a)+"return b;});c.pop();}"+'else{b += _.b; _.b = ""};'}function m(a,b,c){return"if (!_.s(_."+c+'("'+i(b)+'",c,p,1),c,p,1,0,0,"")){'+k(a)+"};"}function n(a){return'b += _.rp("'+i(a.n)+'",c,p,"'+(a.indent||"")+'");'}function o(a,b){return"b += (_."+b+'("'+i(a)+'",c,p,0));'}function p(a,b){return"b += (_.v(_."+b+'("'+i(a)+'",c,p,0)));'}function q(a){return"b += "+a+";"}var r=/\S/,s=/\"/g,t=/\n/g,u=/\r/g,v=/\\/g,w={"#":1,"^":2,"/":3,"!":4,">":5,"<":6,"=":7,_v:8,"{":9,"&":10};a.scan=function(a,e){function f(){q.length>0&&(s.push(new String(q)),q="")}function g(){var a=!0;for(var b=v;b<s.length;b++){a=s[b].tag&&w[s[b].tag]<w._v||!s[b].tag&&s[b].match(r)===null;if(!a)return!1}return a}function h(a,b){f();if(a&&g())for(var c=v,d;c<s.length;c++)s[c].tag||((d=s[c+1])&&d.tag==">"&&(d.indent=s[c].toString()),s.splice(c,1));else b||s.push({tag:"\n"});t=!1,v=s.length}function i(a,b){var d="="+y,e=a.indexOf(d,b),f=c(a.substring(a.indexOf("=",b)+1,e)).split(" ");return x=f[0],y=f[1],e+d.length-1}var j=a.length,k=0,l=1,m=2,n=k,o=null,p=null,q="",s=[],t=!1,u=0,v=0,x="{{",y="}}";e&&(e=e.split(" "),x=e[0],y=e[1]);for(u=0;u<j;u++)n==k?d(x,a,u)?(--u,f(),n=l):a.charAt(u)=="\n"?h(t):q+=a.charAt(u):n==l?(u+=x.length-1,p=w[a.charAt(u+1)],o=p?a.charAt(u+1):"_v",o=="="?(u=i(a,u),n=k):(p&&u++,n=m),t=u):d(y,a,u)?(s.push({tag:o,n:c(q),otag:x,ctag:y,i:o=="/"?t-y.length:u+x.length}),q="",u+=y.length-1,n=k,o=="{"&&(y=="}}"?u++:b(s[s.length-1]))):q+=a.charAt(u);return h(t,!0),s},a.generate=function(b,c,d){return d.asString?"function(c,p,i){"+b+";}":new a.Template(new Function("c","p","i",b),c,a)},a.parse=function(a,b){return b=b||{},e(a,"",[],b.sectionTags||[])},a.cache={},a.compile=function(a,b){b=b||{};var c=a+"||"+!!b.asString,d=this.cache[c];return d?d:(d=this.generate(h(this.parse(this.scan(a,b.delimiters),b)),a,b),this.cache[c]=d)}}(typeof exports!="undefined"?exports:Hogan),typeof define=="function"&&define.amd&&define(Hogan)